<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>ganelon.web.dyna-routes documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Ganelon 0.9.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="ganelon.util.logging.html"><span>ganelon.util.logging</span></a></li><li><a href="ganelon.web.actions.html"><span>ganelon.web.actions</span></a></li><li><a href="ganelon.web.app.html"><span>ganelon.web.app</span></a></li><li class="current"><a href="ganelon.web.dyna-routes.html"><span>ganelon.web.dyna-routes</span></a></li><li><a href="ganelon.web.helpers.html"><span>ganelon.web.helpers</span></a></li><li><a href="ganelon.web.middleware.html"><span>ganelon.web.middleware</span></a></li><li><a href="ganelon.web.ui-operations.html"><span>ganelon.web.ui-operations</span></a></li><li><a href="ganelon.web.widgets.html"><span>ganelon.web.widgets</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="ganelon.web.dyna-routes.html#var-default-routes-fn"><span>default-routes-fn</span></a></li><li><a href="ganelon.web.dyna-routes.html#var-defpage"><span>defpage</span></a></li><li><a href="ganelon.web.dyna-routes.html#var-defpage-ns"><span>defpage-ns</span></a></li><li><a href="ganelon.web.dyna-routes.html#var-route-ns-fn"><span>route-ns-fn</span></a></li><li><a href="ganelon.web.dyna-routes.html#var-setmiddleware%21"><span>setmiddleware!</span></a></li><li><a href="ganelon.web.dyna-routes.html#var-setroute%21"><span>setroute!</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>ganelon.web.dyna-routes documentation</h2><pre class="doc">This names provides the equivalent of webnoir's defpage/add-middleware macros.
What is does, is to essentially provide dynamic list of routes and ability to define
multiple routes in many definition files.

The route paths should not overlap here, and default routes (files, not-found, etc.) should be set explicitly.

It is entirely possible to access other features of Ganelon without using dyna-routes. Or just use dyna-routes
and skip other features.</pre><div class="public" id="var-default-routes-fn"><h3>default-routes-fn</h3><div class="usage"><code>(default-routes-fn)</code></div><pre class="doc">Return ring handler with middleware and routes registered for a :default namespace.

Example usage:

(compojure.core/ANY &quot;/*&quot; []
  (-&gt; (ganelon.web.dyna-routes/default-routes-fn)
    wrap-fake-admin)))</pre><div class="src-link"><a href="http://github.com/tlipski/ganelon/blob/master/src/ganelon/web/dyna_routes.clj#L88">Source</a></div></div><div class="public" id="var-defpage"><h3>defpage</h3><h4 class="macro">macro</h4><div class="usage"><code>(defpage path args &amp; body)</code></div><pre class="doc">Macro inspired by Noir's defpage, but with a full access to Compojure's parameters support.
Registers route for a provided path and parameters using compojure.core/ANY macro in a :default namespace.

Example usage:

(ganelon.web.dyna-routes/defpage &quot;/routing/sample&quot; []
  &quot;Hello world!&quot;)</pre><div class="src-link"><a href="http://github.com/tlipski/ganelon/blob/master/src/ganelon/web/dyna_routes.clj#L112">Source</a></div></div><div class="public" id="var-defpage-ns"><h3>defpage-ns</h3><h4 class="macro">macro</h4><div class="usage"><code>(defpage-ns name-space path args &amp; body)</code></div><pre class="doc">Macro inspired by Noir's defpage, but with a full access to Compojure's parameters support.
Registers route for a provided path and parameters using compojure.core/ANY macro in a supplied namespace.

Example usage:

(ganelon.web.dyna-routes/defpage-ns :default &quot;/routing/sample&quot; []
  &quot;Hello world!&quot;)</pre><div class="src-link"><a href="http://github.com/tlipski/ganelon/blob/master/src/ganelon/web/dyna_routes.clj#L99">Source</a></div></div><div class="public" id="var-route-ns-fn"><h3>route-ns-fn</h3><div class="usage"><code>(route-ns-fn name-space)</code></div><pre class="doc">Return ring handler for a namespace provided as a parameter. Then handler provides
all of the routes and middleware registered in a designated namespace.

Example usage:

(compojure.core/GET &quot;/routing/sample5/*&quot; []
  (-&gt; (ganelon.web.dyna-routes/route-ns-fn :sample-admin)
      wrap-fake-admin)))</pre><div class="src-link"><a href="http://github.com/tlipski/ganelon/blob/master/src/ganelon/web/dyna_routes.clj#L75">Source</a></div></div><div class="public" id="var-setmiddleware%21"><h3>setmiddleware!</h3><div class="usage"><code>(setmiddleware! name mw)</code><code>(setmiddleware! name-space name mw)</code></div><pre class="doc">Register middleware in a namespace. When no namespace is provided, use :default namespace.

This feature is an alternative to classical approach with Ring handlers/middleware chain.

Middleware functions from a namespace can be referenced later on by route-ns-fn.

Example usage:

(dr/setmiddleware! :i18n-detect
  #(fn [request] (detect-lang % request)))</pre><div class="src-link"><a href="http://github.com/tlipski/ganelon/blob/master/src/ganelon/web/dyna_routes.clj#L41">Source</a></div></div><div class="public" id="var-setroute%21"><h3>setroute!</h3><div class="usage"><code>(setroute! name route)</code><code>(setroute! name-space name route)</code></div><pre class="doc">Register route in a namespace. When no namespace is provided, use :default namespace.

Routes from a namespace can be referenced later on by route-ns-fn.

Example:

(setroute! :example2
  (compojure.core/GET &quot;/routing/sample2&quot; []
    &quot;Hello world !!!&quot;))</pre><div class="src-link"><a href="http://github.com/tlipski/ganelon/blob/master/src/ganelon/web/dyna_routes.clj#L22">Source</a></div></div></div></body></html>